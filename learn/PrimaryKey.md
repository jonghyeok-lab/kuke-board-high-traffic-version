# Primary Key 생성 전략
## Snowflake
- 분산 시스템에서 고유한 64비트 ID를 생성하는 알고리즘
  - `[1비트][41비트:타임스탬프][10비트:노드ID][12비트:시퀀스 번호]`
  - 분산 환경에서도 중복 없이 순차적 ID 생성하기 위한 규칙
    - 타임스탬프 -> 순차성
    - 노드ID + 시퀀스 번호 -> 고유성

## DB auto_increment
- 특징
  - 분산 DB 환경에서 PK 가 중복된다!!! -> 유일성이 보장되지 않음.
    - 여러 샤드에서 동일한 PK 를 가짐
  - 클라이언트 측에 노출하면 보안 문제
- 결론
  - 보안 문제 상관 X
  - 단일 DB 사용 or 애플리케이션단에서 PK 중복을 구분할 수 있는 경우.


## 유니크 문자열 또는 숫자
- 정렬 데이터가 아닌 랜덤 데이터
  - 데이터 삽입 시, B+ tree 재구성 및 페이지 분할
  - PK 이용한 범위 조회 시 디스크에서 랜덤 I/O가 발생 -> 순차 I/O보다 성능 저하.

## 유니크 정렬 문자열
- 분산 환경에 대한 PK 중복 해결, 보안 문제 해결, 랜덤데이터에 대한 성능 문제 해결
- UUID v7, ULID 등 알고리즘. 이들은 128비트

## 유니크 정렬 숫자(Snowflake)
- 유니크 정렬 문자열의 장점을 가져가며, 64비트로 인덱스 페이지 크기를 줄일 수 있음.
- Snowflake, TSID 등 알고리즘. 이들은 64비트
  - 타임스탬프를 나타내는 비트 수의 제한이 있어서 시간적인 표현에 한계 가능.
